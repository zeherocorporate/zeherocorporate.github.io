(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{549:function(s,t,i){var e=i(606);"string"==typeof e&&(e=[[s.i,e,""]]),e.locals&&(s.exports=e.locals);(0,i(15).default)("8f57cef2",e,!1,{})},605:function(s,t,i){"use strict";i(549)},606:function(s,t,i){(s.exports=i(14)(!1)).push([s.i,"[data-v-7b959e52] .dropdown_module__J_Zpj{position:absolute;top:18px;right:20px}\n",""])},670:function(s,t,i){"use strict";i.r(t);var e=function(){var s=this,t=s.$createElement,i=s._self._c||t;return i("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:s.handleCloseEditForm,expression:"handleCloseEditForm"}],class:s.wrapperClasses},[i("div",{staticClass:"utility-box-1_module__MYXpX utility-box-1_xs__3Nipt utility-box-1_boxLeft__3iS6b clearfix"},[i("a",{staticClass:"utility-box-1_avatar__DB9c_ rounded-circle wil-float-left",style:"background-image: url("+s.discussion.author.avatar+");",attrs:{href:s.discussion.author.authorLink}},[i("img",{attrs:{src:s.discussion.author.avatar,alt:s.discussion.author.displayName}})]),s._v(" "),i("div",{staticClass:"utility-box-1_body__8qd9j"},[i("div",{staticClass:"utility-box-1_group__2ZPA2"},[i("h3",{staticClass:"utility-box-1_title__1I925"},[i("a",{attrs:{href:s.discussion.author.authorLink}},[s._v(s._s(s.discussion.author.displayName))])]),s._v(" "),i("div",{staticClass:"utility-box-1_content__3jEL7",domProps:{innerHTML:s._s(s.parseDiscussionContent)}})]),s._v(" "),i("div",{staticClass:"utility-box-1_description__2VDJ6"},[s._v(s._s(s.parseDiscussionInfo))])]),s._v(" "),s.isOpenEditForm?i("wil-review-discussion-form",{attrs:{value:s.discussion.content,"is-submitted":s.isSubmitted,"is-user-logged-in":s.isUserLoggedIn,"inner-classes":"field_module__1H6kT field_style4__2DBqx field-autoHeight"},on:{close:s.handleCloseEditForm,update:s.handleUpdateDiscussion}}):s._e()],1),s._v(" "),s.parseDropdownItems.length?i("wil-buttons-dropdown",{attrs:{"is-active":s.isDropdownActive,"wrapper-classes":"dropdown_module__J_Zpj"},on:{change:s.toggleDropdownStatus}},[i("wil-lists",{attrs:{items:s.parseDropdownItems,"wrapper-classes":"list_module__1eis9 list-none list_small__3fRoS list_abs__OP7Og arrow--top-right","inner-classes":"list_item__3YghP","has-wrap-for-icon":!0},scopedSlots:s._u([{key:"list-item",fn:function(t){var e=t.item;return[i(e.component,{tag:"component",attrs:{"wrapper-classes":e.wrapperClasses,icon:e.icon,"has-wrapper-for-icon":"yes","span-classes":"list_text__35R07","btn-name":e.btnName},on:{click:function(t){return s.handleBtnClick(e)},close:s.toggleDropdownStatus}})]}}],null,!1,567953251)})],1):s._e()],1)};e._withStripped=!0;var o=i(3),n=i.n(o),r={name:"wil-review-discussion-item",data:function(){return{isOpenEditForm:!1,isDropdownActive:!1}},mounted:function(){},components:{WilReviewDiscussionForm:function(){return i.e(86).then(i.bind(null,671))},WilReviewAuthorInfo:function(){return Promise.resolve().then(i.bind(null,53))}},props:{canDoAnything:{type:Boolean,default:!1},discussion:{type:Object,required:!0},wrapperClasses:{type:String,default:""},isSubmitted:{type:Boolean,default:!0},isUserLoggedIn:{type:Boolean,required:!0}},computed:{parseDropdownItems:function(){var s=[];return"yes"===this.discussion.isAuthor&&(s=[].concat(n()(s),[{type:"edit",component:"wil-link",wrapperClasses:"list_link__2rDA1 text-ellipsis color-primary--hover",btnName:this.$options.filters.filterTranslation("","edit"),icon:"la la-edit"}])),(this.canDoAnything||"yes"===this.discussion.isAuthor)&&(s=[].concat(n()(s),[{type:"delete",component:"wil-link",wrapperClasses:"list_link__2rDA1 text-ellipsis color-primary--hover",btnName:this.$options.filters.filterTranslation("","delete"),icon:"la la-trash"}])),s},renderGenerateRef:function(){return"discussion-"+this.parentId},parseDiscussionInfo:function(){return this.discussion.position?this.discussion.position+" . "+this.discussion.date:this.discussion.date},parseDiscussionContent:function(){return this.discussion.content.replace("\n","<br/>")}},methods:{handleBtnClick:function(s){switch(s.type){case"edit":this.isOpenEditForm=!0;break;case"delete":this.$emit("delete")}this.toggleDropdownStatus()},toggleDropdownStatus:function(s){this.isDropdownActive=s},handleCloseEditForm:function(){this.isOpenEditForm=!1,this.isDropdownActive=!1},handleUpdateDiscussion:function(s){this.$emit("update",s)}}},a=(i(605),i(0)),l=Object(a.a)(r,e,[],!1,null,"7b959e52",null);l.options.__file="assets/dev/js/components/smart/Review/WilReviewDiscussionItem.vue";t.default=l.exports}}]);